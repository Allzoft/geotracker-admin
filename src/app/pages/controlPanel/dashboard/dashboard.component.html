<section class="w-full flex justify-content-between px-3">
  <div class="flex gap-2">
    <p-button
      icon="pi pi-table text-xl"
      styleClass="shadow-4"
      [raised]="true"
    ></p-button>
    @if (!layoutService.isMobile()) {
    <div class="flex flex-column justify-content-center gap-1">
      <div>Dashboard</div>
      <div class="text-sm text-700 font-light">D. Administrativo</div>
    </div>
    }
  </div>
  <div class="flex gap-2 align-items-center">

  </div>
</section>

@if (loading) {
<section class="w-full grid m-0 mt-3 p-0">
  <div class="col-12 md:col-3 px-3">
    <p-skeleton
      styleClass="w-full md:w-16rem"
      height="9rem"
      class="shadow-4"
    ></p-skeleton>
  </div>
  <div class="col-12 md:col-3 px-3">
    <p-skeleton
      styleClass="w-full md:w-16rem"
      height="9rem"
      class="shadow-4"
    ></p-skeleton>
  </div>
  <div class="col-12 md:col-3 px-3">
    <p-skeleton
      styleClass="w-full md:w-16rem"
      height="9rem"
      class="shadow-4"
    ></p-skeleton>
  </div>
  <div class="col-12 md:col-3 px-3">
    <p-skeleton
      styleClass="w-full md:w-16rem"
      height="9rem"
      class="shadow-4"
    ></p-skeleton>
  </div>
</section>

<section class="w-full grid m-0 mt-3 p-0">
  <div class="col-12 md:col-6 px-3">
    <div
      style="background-color: #f6f3f3;"
      class="relative w-full h-18rem py-4 px-3 md:px-5 overflow-hidden border-300 shadow-4 border-1 border-round flex align-content-center gap-2"
    >
      <div
        class="absolute top-0 right-0 -mr-7 opacity-60 w-7 md:w-5 h-full flex align-items-center"
      >
        <img
          src="../../../../assets/Logo clínica PASTEUR.png"
          alt="new_clients"
          class="w-full"
        />
      </div>
      <div class="w-12 md:w-9 flex flex-column justify-content-center gap-4">
        <span class="text-2xl md:text-3xl"
          >¡Hazte parte del proceso! Registra pacientes</span
        ><span class="text-700 w-10"
          >Tu trabajo es crucial para nuestros pacientes. ¡Comienza ahora y sé
          parte del equipo que marca la diferencia!</span
        >
        <div class="flex justify-content-between align-items-center">
          <p-button
            icon="pi pi-user-plus"
            label="Nuevo paciente"
            size="small"
          ></p-button>
          <i class="pi pi-arrow-right align-self-end"></i>
        </div>
      </div>
    </div>
  </div>

  <div class="col-12 md:col-6 pl-3 pr-0 grid">
    <div class="col-6">
      <div
        class="w-full cursor-pointer transition-colors transition-duration-300 hover:surface-100 hover:shadow-7 py-2 px-2 border-300 shadow-4 border-1 border-round flex justify-content-center align-items-center gap-2"
      >
        <p-button
          icon="pi pi-plus text-2xl"
          [rounded]="true"
          [outlined]="true"
          styleClass="h-4rem w-4rem"
          severity="secondary"
        />
        <div class="w-6 h-full flex align-items-center">
          <img src="../../../../assets/covid.png" alt="doctor" class="w-full" />
        </div>
      </div>
    </div>
    <div class="col-6">
      <div
        class="w-full cursor-pointer transition-colors transition-duration-300 hover:surface-100 hover:shadow-7 py-2 px-2 border-300 shadow-4 border-1 border-round flex justify-content-center align-items-center gap-2"
      >
        <p-button
          icon="pi pi-plus text-2xl"
          [rounded]="true"
          [outlined]="true"
          styleClass="h-4rem w-4rem"
          severity="secondary"
        />
        <div class="w-6 h-full flex align-items-center">
          <img src="../../../../assets/test.png" alt="doctor" class="w-full" />
        </div>
      </div>
    </div>
    <div class="col-6">
      <div
        class="w-full cursor-pointer transition-colors transition-duration-300 hover:surface-100 hover:shadow-7 py-2 px-2 border-300 shadow-4 border-1 border-round flex justify-content-center align-items-center gap-2"
      >
        <p-button
          icon="pi pi-plus text-2xl"
          [rounded]="true"
          [outlined]="true"
          styleClass="h-4rem w-4rem"
          severity="secondary"
        />
        <div class="w-6 h-full flex align-items-center">
          <img src="../../../../assets/VIH.png" alt="doctor" class="w-full" />
        </div>
      </div>
    </div>
    <div class="col-6">
      <div
        class="w-full cursor-pointer transition-colors transition-duration-300 hover:surface-100 hover:shadow-7 py-2 px-2 border-300 shadow-4 border-1 border-round flex justify-content-center align-items-center gap-2"
      >
        <p-button
          icon="pi pi-plus text-2xl"
          [rounded]="true"
          [outlined]="true"
          styleClass="h-4rem w-4rem"
          severity="secondary"
        />
        <div class="w-6 h-full flex align-items-center">
          <img
            src="../../../../assets/bacterio.png"
            alt="doctor"
            class="w-full"
          />
        </div>
      </div>
    </div>
  </div>
</section>

<section class="w-full grid m-0 mt-3 mb-2 p-0">
  <div class="col-12 md:col-4 px-3">
    <p-skeleton styleClass="w-full h-25rem"></p-skeleton>
  </div>
  <div class="col-12 md:col-8 px-3">
    <p-skeleton styleClass="w-full h-25rem"></p-skeleton>
  </div>
</section>
} @else {
<section class="w-full grid m-0 mt-3 p-0">
  <div class="col-12 md:col-3 px-3">
    <div
      class="w-full py-4 px-2 border-300 shadow-4 border-1 border-round flex justify-content-center align-content-center gap-2"
    >
      <div class="w-5 h-full flex align-items-center">
        <img
          src="../../../../assets/total_orders.svg"
          alt="total_orders"
          class="w-full"
        />
      </div>
      <div class="flex flex-column justify-content-center">
        <span class="text-5xl">{{''}}</span
        ><span class="text-sm text-700">Total de ordenes</span
        >
        <!-- <span class="text-xs mt-1 text-600 flex align-items-center gap-1"
          ><div *ngIf="rawChange !== null">
            <i
              *ngIf="rawChange > 0"
              class="pi pi-arrow-circle-right text-sm"
              aria-hidden="true"
            ></i>
            <i
              *ngIf="rawChange < 0"
              class="pi pi-arrow-circle-down text-red-400 text-sm"
              aria-hidden="true"
            ></i>
            <i
              *ngIf="rawChange === 0"
              class="pi pi-arrow-circle-down text-green-400 text-sm"
              aria-hidden="true"
            ></i>
          </div>
          {{ percentageChange + '% (' + getDateRange() + ' días)' }}
        </span> -->
      </div>
    </div>
  </div>
  <div class="col-12 md:col-3 px-3">
    <div
      class="w-full py-4 px-2 border-300 shadow-4 border-1 border-round flex justify-content-center align-content-center gap-2"
    >
      <div class="w-5 h-full mt-3 flex align-items-center">
        <img
          src="../../../../assets/new_clients.svg"
          alt="new_clients"
          class="w-full"
        />
      </div>
      <div class="flex flex-column justify-content-center">
        <span class="text-5xl">{{ 'clients' }}</span
        ><span class="text-sm text-700">Pacientes nuevos</span
        >
        <!-- <span class="text-xs mt-1 text-600 flex align-items-center gap-1"
          ><div *ngIf="rawChangeClients !== null">
            <i
              *ngIf="rawChangeClients > 0"
              class="pi pi-arrow-circle-right text-sm"
              aria-hidden="true"
            ></i>
            <i
              *ngIf="rawChangeClients < 0"
              class="pi pi-arrow-circle-down text-red-400 text-sm"
              aria-hidden="true"
            ></i>
            <i
              *ngIf="rawChangeClients === 0"
              class="pi pi-arrow-circle-down text-green-400 text-sm"
              aria-hidden="true"
            ></i>
          </div>
          {{ percentageChangeClient + '% (' + getDateRange() + ' días)' }}
        </span> -->
      </div>
    </div>
  </div>
  <div class="col-12 md:col-3 px-3">
    <div
      class="w-full py-4 px-2 border-300 shadow-4 border-1 border-round flex justify-content-center align-content-center gap-2"
    >
      <div class="w-5 h-full mt-3 flex align-items-center">
        <img src="../../../../assets/doctor.svg" alt="doctor" class="w-full" />
      </div>
      <div class="flex flex-column justify-content-center">
        <span class="text-5xl">{{ 'incomes' }}</span
        ><span class="text-sm text-700">Total de ingresos</span
        >
        <!-- <span class="text-xs mt-1 text-600 flex align-items-center gap-1">
          <div *ngIf="rawChangeIncome !== null">
            <i
              *ngIf="rawChangeIncome > 0"
              class="pi pi-arrow-circle-right text-sm"
              aria-hidden="true"
            ></i>
            <i
              *ngIf="rawChangeIncome < 0"
              class="pi pi-arrow-circle-down text-red-400 text-sm"
              aria-hidden="true"
            ></i>
            <i
              *ngIf="rawChangeIncome === 0"
              class="pi pi-arrow-circle-down text-green-400 text-sm"
              aria-hidden="true"
            ></i>
          </div>
          {{ percentChangeIncome + '% (' + getDateRange() + ' días)' }}
        </span> -->
      </div>
    </div>
  </div>
  <div class="col-12 md:col-3 px-3">
    <div
      class="w-full py-4 px-2 border-300 shadow-4 border-1 border-round flex justify-content-center align-content-center gap-2"
    >
      <div class="w-5 h-full flex align-items-center">
        <img
          src="../../../../assets/income-report.svg"
          alt="income-report"
          class="w-full"
        />
      </div>
      <div class="flex flex-column justify-content-center">
        <span class="text-5xl">{{ 'payments.length' }}</span
        ><span class="text-sm text-700">Pagos realizados</span
        >
        <!-- <span class="text-xs mt-1 text-600 flex align-items-center gap-1"
          >
          <div *ngIf="rawChangePayment !== null">
            <i
              *ngIf="rawChangePayment > 0"
              class="pi pi-arrow-circle-right text-sm"
              aria-hidden="true"
            ></i>
            <i
              *ngIf="rawChangePayment < 0"
              class="pi pi-arrow-circle-down text-red-400 text-sm"
              aria-hidden="true"
            ></i>
            <i
              *ngIf="rawChangePayment === 0"
              class="pi pi-arrow-circle-down text-green-400 text-sm"
              aria-hidden="true"
            ></i>
          </div>
          {{ percentChangePayments + '% (' + getDateRange() + ' días)' }}</span
        > -->
      </div>
    </div>
  </div>
</section>

<section class="w-full grid m-0 mt-3 p-0">
  <div class="col-12 md:col-6 px-3">
    <div
      style="background-color: #f6f3f3;"
      class="relative w-full h-18rem py-4 px-3 md:px-5 overflow-hidden border-300 shadow-4 border-1 border-round flex align-content-center gap-2"
    >
      <div
        class="absolute top-0 right-0 -mr-7 opacity-60 w-7 md:w-5 h-full flex align-items-center"
      >
        <img
          src="../../../../assets/Logo clínica PASTEUR.png"
          alt="new_clients"
          class="w-full"
        />
      </div>
      <div class="w-12 md:w-9 flex flex-column justify-content-center gap-4">
        <span class="text-2xl md:text-3xl"
          >¡Hazte parte del proceso! Registra pacientes</span
        ><span class="text-700 w-10"
          >Tu trabajo es crucial para nuestros pacientes. ¡Comienza ahora y sé
          parte del equipo que marca la diferencia!</span
        >
        <div class="flex justify-content-between align-items-center">
          <p-button
            icon="pi pi-user-plus"
            label="Crear nuevo paciente"
            size="small"
          ></p-button>
          <i class="pi pi-arrow-right align-self-end"></i>
        </div>
      </div>
    </div>
  </div>

  <div class="col-12 md:col-6 pl-3 pr-0 grid">
    <div class="col-6">
      <div
        class="w-full cursor-pointer transition-colors transition-duration-300 hover:surface-100 hover:shadow-7 py-2 px-2 border-300 shadow-4 border-1 border-round flex justify-content-center align-items-center gap-2"
      >
        <p-button
          icon="pi pi-plus text-2xl"
          [rounded]="true"
          [outlined]="true"
          styleClass="h-4rem w-4rem"
          severity="secondary"
        />
        <div class="w-6 h-full flex align-items-center">
          <img src="../../../../assets/covid.png" alt="doctor" class="w-full" />
        </div>
      </div>
    </div>
    <div class="col-6">
      <div
        class="w-full cursor-pointer transition-colors transition-duration-300 hover:surface-100 hover:shadow-7 py-2 px-2 border-300 shadow-4 border-1 border-round flex justify-content-center align-items-center gap-2"
      >
        <p-button
          icon="pi pi-plus text-2xl"
          [rounded]="true"
          [outlined]="true"
          styleClass="h-4rem w-4rem"
          severity="secondary"
        />
        <div class="w-6 h-full flex align-items-center">
          <img src="../../../../assets/test.png" alt="doctor" class="w-full" />
        </div>
      </div>
    </div>
    <div class="col-6">
      <div
        (click)="op.toggle($event)"
        class="w-full cursor-pointer transition-colors transition-duration-300 hover:surface-100 hover:shadow-7 py-2 px-2 border-300 shadow-4 border-1 border-round flex justify-content-center align-items-center gap-2"
      >
        <p-button
          icon="pi pi-plus text-2xl"
          [rounded]="true"
          [outlined]="true"
          styleClass="h-4rem w-4rem"
          severity="secondary"
        />
        <div class="w-6 h-full flex align-items-center">
          <img src="../../../../assets/VIH.png" alt="doctor" class="w-full" />
        </div>
      </div>
      <p-overlayPanel #op>
        <!-- <div class="flex flex-column gap-3">
          <p-dropdown
            [options]="clientsService.clients()"
            [loading]="loadingClientsDropDown()"
            [(ngModel)]="selectClient"
            class="w-full"
            styleClass="w-full"
            placeholder="Seleciona al paciente"
          >
            <ng-template pTemplate="selectedItem">
              <div class="flex align-items-center gap-2" *ngIf="selectClient">
                <div>{{ selectClient.name + ' ' + selectClient.lastname }}</div>
              </div>
            </ng-template>
            <ng-template let-client pTemplate="item">
              <div class="flex align-items-center gap-2">
                <div>{{ client.name + ' ' + client.lastname }}</div>
              </div>
            </ng-template>
          </p-dropdown>
          <p-button
            severity="help"
            [outlined]="true"
            label="Generar documento"
            (onClick)="createVihDoc()"
            styleClass="w-full"
            [loading]="loadingVihDoc"
          ></p-button>
        </div> -->
      </p-overlayPanel>
    </div>
    <div class="col-6">
      <div
        class="w-full cursor-pointer transition-colors transition-duration-300 hover:surface-100 hover:shadow-7 py-2 px-2 border-300 shadow-4 border-1 border-round flex justify-content-center align-items-center gap-2"
      >
        <p-button
          icon="pi pi-plus text-2xl"
          [rounded]="true"
          [outlined]="true"
          styleClass="h-4rem w-4rem"
          severity="secondary"
        />
        <div class="w-6 h-full flex align-items-center">
          <img
            src="../../../../assets/bacterio.png"
            alt="doctor"
            class="w-full"
          />
        </div>
      </div>
    </div>
  </div>
</section>
}

<p-toast position="top-center"></p-toast>
<p-confirmDialog styleClass="w-auto md:w-5" position="bottom"></p-confirmDialog>
